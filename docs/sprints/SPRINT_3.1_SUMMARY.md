# –°–ø—Ä–∏–Ω—Ç 3.1: Counting Game - –í—ã–ø–æ–ª–Ω–µ–Ω–æ

## –°—Ç–∞—Ç—É—Å: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. Game Domain Models
**–§–∞–π–ª:** [lib/features/games/domain/entities/game.dart](lib/features/games/domain/entities/game.dart)

–°–æ–∑–¥–∞–Ω—ã –¥–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:
- `Game` - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å –∏–≥—Ä—ã —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- `GameConfig` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–≥—Ä—ã (–¥–∏–∞–ø–∞–∑–æ–Ω —á–∏—Å–µ–ª, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤, –ª–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏)
- `GameQuestion` - —Å—É—â–Ω–æ—Å—Ç—å –≤–æ–ø—Ä–æ—Å–∞ (—á–∏—Å–ª–æ –∏ —ç–º–æ–¥–∑–∏ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ)

### 2. Game BLoC
**–§–∞–π–ª:** [lib/features/games/presentation/bloc/game_bloc.dart](lib/features/games/presentation/bloc/game_bloc.dart)

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω BLoC –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏–≥—Ä—ã:

#### Events (–°–æ–±—ã—Ç–∏—è):
- `StartGame` - –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É
- `GenerateQuestion` - –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å
- `AnswerQuestion` - –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å
- `NextQuestion` - –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É
- `RestartGame` - –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É

#### States (–°–æ—Å—Ç–æ—è–Ω–∏—è):
- `GameInitial` - –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `GameInProgress` - –∏–≥—Ä–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
- `GameAnswered` - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–≤–µ—Ç–∞
- `GameCompleted` - –∏–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏
- –ü–æ–¥—Å—á–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –∏ –æ—á–∫–æ–≤ (+10 –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç)
- –°–∏—Å—Ç–µ–º–∞ –∑–≤–µ–∑–¥: 3‚òÖ (90%+), 2‚òÖ (70-89%), 1‚òÖ (50-69%), 0‚òÖ (<50%)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä—ã

### 3. Game Page UI
**–§–∞–π–ª:** [lib/features/games/presentation/pages/game_page.dart](lib/features/games/presentation/pages/game_page.dart)

–°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (—Ç–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å / –≤—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤)
- –°—á–µ—Ç—á–∏–∫ –æ—á–∫–æ–≤
- –û–±–ª–∞—Å—Ç—å —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏ (—ç–º–æ–¥–∑–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –≤–æ–ø—Ä–æ—Å—É)
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ—Ç–≤–µ—Ç–∞ (1-5)
- –≠–∫—Ä–∞–Ω –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- –î–∏–∞–ª–æ–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∏ –∑–≤–µ–∑–¥–∞–º–∏

#### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É –∏–ª–∏ –≤—ã–π—Ç–∏ –∏–∑ –Ω–µ–µ
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω –±–∞–≥ —Å `use_build_context_synchronously` (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `context.mounted`)

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**–§–∞–π–ª:** [test/unit/features/games/presentation/bloc/game_bloc_test.dart](test/unit/features/games/presentation/bloc/game_bloc_test.dart)

–°–æ–∑–¥–∞–Ω—ã 10 unit —Ç–µ—Å—Ç–æ–≤ –¥–ª—è Game BLoC:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—á–µ—Ç–∞ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤)
- ‚úÖ –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (—Å—á–µ—Ç –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–≥—Ä—ã
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç –∑–≤–µ–∑–¥ (3‚òÖ, 2‚òÖ, 1‚òÖ)
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∏–≥—Ä—ã

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

### –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
```bash
flutter analyze
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ No issues found!

### –¢–µ—Å—Ç—ã
```bash
flutter test
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ All 102 tests passed!

### –°–±–æ—Ä–∫–∞
```bash
flutter build web
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Built successfully

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
lib/features/games/
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îî‚îÄ‚îÄ entities/
‚îÇ       ‚îî‚îÄ‚îÄ game.dart                  # –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ presentation/
    ‚îú‚îÄ‚îÄ bloc/
    ‚îÇ   ‚îî‚îÄ‚îÄ game_bloc.dart             # BLoC –¥–ª—è –∏–≥—Ä—ã
    ‚îî‚îÄ‚îÄ pages/
        ‚îî‚îÄ‚îÄ game_page.dart             # UI –∏–≥—Ä—ã

test/unit/features/games/
‚îî‚îÄ‚îÄ presentation/
    ‚îî‚îÄ‚îÄ bloc/
        ‚îî‚îÄ‚îÄ game_bloc_test.dart        # –¢–µ—Å—Ç—ã BLoC
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ò–≥—Ä–∞ —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Ä–æ—É—Ç–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```dart
// –ü—É—Ç—å: /game/:gameId
context.go('/game/counting');
```

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- –î–∏–∞–ø–∞–∑–æ–Ω —á–∏—Å–µ–ª: 1-5
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤: 5
- –ñ–∏–≤–æ—Ç–Ω—ã–µ: ü¶ã üêí üê¶ üê¢ üê∏

## –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- [x] –ò–≥—Ä–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- [x] –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- [x] –ú–æ–∂–Ω–æ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
- [x] –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (–ø—Ä–∞–≤–∏–ª—å–Ω–æ/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- [x] –°—á—ë—Ç —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- [x] –î–∏–∞–ª–æ–≥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- [x] –°–∏—Å—Ç–µ–º–∞ –∑–≤–µ–∑–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [x] –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∞–Ω–∞–ª–∏–∑ –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–°–ø—Ä–∏–Ω—Ç 3.1 –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω. –ì–æ—Ç–æ–≤–æ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–ø—Ä–∏–Ω—Ç—É (3.2 –∏–ª–∏ –¥—Ä—É–≥–∏–º –∑–∞–¥–∞—á–∞–º).

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~6 —á–∞—Å–æ–≤ (–≤ —Ä–∞–º–∫–∞—Ö –æ—Ü–µ–Ω–∫–∏: 1+2+3 —á–∞—Å–æ–≤)
**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 2025-11-17
